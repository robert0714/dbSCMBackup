<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
                   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                   xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-2.0.xsd">

    <changeSet id="Tutorials-demo-init-schema" author="Steven Wang">
        <comment>Create table addressbook_entries for demonstrating refactorings</comment>

        <createTable tableName="addressbook_entries">
            <column name="firstname" type="VARCHAR(64)"/>
            <column name="lastname" type="VARCHAR(64)"/>
            <column name="street_name" type="VARCHAR(64)"/>
            <column name="street_number" type="VARCHAR(64)"/>
            <column name="postcode" type="INT(5)"/>
            <column name="city" type="VARCHAR(64)"/>
            <column name="phone" type="BIGINT"/>
        </createTable>
    </changeSet>

    <changeSet id="Tutorials-demo-init-data" author="Steven Wang">
        <preConditions>
            <tableExists tableName="addressbook_entries"/>
        </preConditions>

        <comment>Load some names generated by http://www.fakenamegenerator.com/</comment>

        <loadData tableName="addressbook_entries" file="./addressbook.csv">
            <column name="firstname" type="STRING"/>
            <column name="lastname" type="STRING"/>
            <column name="street_name" type="STRING"/>
            <column name="street_number" type="STRING"/>
            <column name="postcode" type="NUMERIC"/>
            <column name="city" type="STRING"/>
            <column name="phone" type="NUMERIC"/>
        </loadData>
    </changeSet>
</databaseChangeLog>
